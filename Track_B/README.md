# READ ME
### Generated by: Sam Slane  
### For: Advance Computer Systems  
### Project: Microarchitectural Modeling and OS Interface of an IOPS-Optimized Domain-Specific Core  

### Navigating Folders  
All code can be found in the base Track_B folder.  
Graphs are found in the Figures folder.  
Commands run by the code are found in the Commmands folder.  
Outputs generated by the code are found in the Outputs folder.

### Running the Code  

**To generate a new software_output.txt:**  
Change the SSD latency to your SSD's latency in analysis.py (lines 24 and 25)  
Change the CPU frequency to your CPU's frequency in analysis.py (line 66)  

Optional: Run run_io_trace.bat and use Windows Performance Recorder to generate a new .etl file for your computer.  
Optional: Then find the average disk service time in Windows Performance Analyzer and calculate block layer overhead from that number.  
Optional: Replace BLOCK_LAYER_OVERHEAD_PER_CMD in analysis.py (line 20) with the new calculated value (in ns)  

Run software_build.bat in CMD (```software_build.bat```)
Run block_layer_test.exe in CMD (```block_layer_test.exe```)

**To generate a new hardware_output.txt:**  
In line 1898/1899 in involved_hardware_blockqueue.sv, change the path to where you have this project stored. You can also choose which input file to run.  
I recommend running 70_cpu_commands.txt as it shows more improved IOPS and throughput from the parallelism.  

Simulate involved_hardware_blockqueue.sv in ModelSim. Do not run it using iverilog (Icarus Verilog), as it does not have the ability to run this file.

**To generate new figures:**  
Once software_output.txt and hardware_output.txt have been generated, run analysis.py in cmd (```python analysis.py```).